# ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—

## âš ï¸ é‡è¦è¯´æ˜

Hugging Face Inference API å·²ç»åœæ­¢æ”¯æŒæ—§çš„ç«¯ç‚¹ã€‚ç›®å‰æœ€ä½³çš„å…è´¹éƒ¨ç½²æ–¹æ¡ˆæ˜¯ï¼š

## ğŸ¯ æ¨èæ–¹æ¡ˆï¼šå‰ç«¯ + åç«¯åˆ†ç¦»éƒ¨ç½²

### æ¶æ„
- **å‰ç«¯**: Vercel/Netlify (å…è´¹)
- **åç«¯**: Railway/Render (å…è´¹å¥—é¤)

---

## ğŸ“¦ æ–¹æ¡ˆ 1ï¼šRailway éƒ¨ç½²åç«¯ï¼ˆæ¨èï¼‰

### æ­¥éª¤ 1ï¼šéƒ¨ç½²åç«¯åˆ° Railway

1. **æ³¨å†Œ Railway**
   - è®¿é—® https://railway.app
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **åˆ›å»ºæ–°é¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - é€‰æ‹©ä½ çš„ä»“åº“

3. **é…ç½®éƒ¨ç½²**
   - Root Directory: `backend`
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `python app.py`

4. **è®¾ç½®ç¯å¢ƒå˜é‡**
   ```bash
   PORT=5000
   ```

5. **è·å–éƒ¨ç½² URL**
   - éƒ¨ç½²å®Œæˆåï¼ŒRailway ä¼šæä¾›ä¸€ä¸ª URL
   - ä¾‹å¦‚ï¼š`https://your-app.railway.app`

### æ­¥éª¤ 2ï¼šéƒ¨ç½²å‰ç«¯åˆ° Vercel

1. **æ›´æ–°ç¯å¢ƒå˜é‡**
   åœ¨ `.env.local` æ·»åŠ ï¼š
   ```bash
   BACKEND_URL=https://your-app.railway.app
   ```

2. **éƒ¨ç½²åˆ° Vercel**
   ```bash
   cd frontend-next
   vercel --prod
   ```

3. **åœ¨ Vercel Dashboard è®¾ç½®ç¯å¢ƒå˜é‡**
   - `BACKEND_URL` = `https://your-app.railway.app`
   - `NEXT_PUBLIC_BASE_URL` = ä½ çš„åŸŸå

---

## ğŸ“¦ æ–¹æ¡ˆ 2ï¼šRender éƒ¨ç½²åç«¯

### æ­¥éª¤ 1ï¼šéƒ¨ç½²åç«¯åˆ° Render

1. **æ³¨å†Œ Render**
   - è®¿é—® https://render.com
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **åˆ›å»º Web Service**
   - ç‚¹å‡» "New +"
   - é€‰æ‹© "Web Service"
   - è¿æ¥ä½ çš„ GitHub ä»“åº“

3. **é…ç½®è®¾ç½®**
   ```
   Name: remove-watermark-backend
   Region: Singapore (æˆ–æœ€è¿‘çš„)
   Branch: main
   Root Directory: backend
   Runtime: Python 3
   Build Command: pip install -r requirements.txt
   Start Command: python app.py
   Instance Type: Free
   ```

4. **æ·»åŠ ç¯å¢ƒå˜é‡**
   ```bash
   PYTHON_VERSION=3.11
   PORT=5000
   ```

5. **è·å–éƒ¨ç½² URL**
   - ä¾‹å¦‚ï¼š`https://remove-watermark-backend.onrender.com`

### æ­¥éª¤ 2ï¼šéƒ¨ç½²å‰ç«¯ï¼ˆåŒä¸Šï¼‰

---

## ğŸ“¦ æ–¹æ¡ˆ 3ï¼šå…¨éƒ¨ç½²åˆ° Vercelï¼ˆéœ€è¦ä»˜è´¹å¥—é¤ï¼‰

Vercel çš„å…è´¹å¥—é¤ä¸æ”¯æŒé•¿æ—¶é—´è¿è¡Œçš„è¿›ç¨‹ï¼Œéœ€è¦ Pro å¥—é¤ã€‚

---

## ğŸ†“ Railway å…è´¹é¢åº¦

- âœ… **500 å°æ—¶/æœˆ** çš„è¿è¡Œæ—¶é—´
- âœ… **512MB RAM**
- âœ… **1GB Storage**
- âœ… **100GB æµé‡**

**è¶³å¤Ÿä¸­å°å‹é¡¹ç›®ä½¿ç”¨ï¼**

---

## ğŸ†“ Render å…è´¹é¢åº¦

- âœ… **750 å°æ—¶/æœˆ**
- âœ… **512MB RAM**
- âœ… **è‡ªåŠ¨ä¼‘çœ **ï¼ˆ15åˆ†é’Ÿæ— è®¿é—®åä¼‘çœ ï¼Œé¦–æ¬¡è®¿é—®ä¼šæ…¢ï¼‰
- âš ï¸ å†·å¯åŠ¨éœ€è¦ 30-60 ç§’

---

## ğŸ”§ åç«¯ä¼˜åŒ–å»ºè®®

### 1. æ·»åŠ å¥åº·æ£€æŸ¥
åœ¨ `backend/app.py` å·²æœ‰ï¼š
```python
@app.route('/api/health', methods=['GET'])
def health():
    return jsonify({"status": "ok"})
```

### 2. æ·»åŠ  CORS æ”¯æŒ
å·²é…ç½®ï¼Œå…è®¸æ‰€æœ‰åŸŸåè®¿é—®ã€‚

### 3. æ·»åŠ è¯·æ±‚é™åˆ¶
å¯ä»¥ä½¿ç”¨ `flask-limiter` é˜²æ­¢æ»¥ç”¨ï¼š
```python
pip install flask-limiter
```

---

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### åç«¯éƒ¨ç½²å®Œæˆåæ£€æŸ¥ï¼š
- [ ] è®¿é—® `https://your-backend-url/api/health` è¿”å› `{"status": "ok"}`
- [ ] åç«¯æ—¥å¿—æ²¡æœ‰é”™è¯¯
- [ ] å†…å­˜ä½¿ç”¨åœ¨ 512MB ä»¥ä¸‹

### å‰ç«¯éƒ¨ç½²å®Œæˆåæ£€æŸ¥ï¼š
- [ ] ç¯å¢ƒå˜é‡ `BACKEND_URL` é…ç½®æ­£ç¡®
- [ ] ä¸Šä¼ å›¾ç‰‡æµ‹è¯•åŠŸèƒ½
- [ ] æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ²¡æœ‰ CORS é”™è¯¯

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. Railway/Render åç«¯å†·å¯åŠ¨æ…¢
**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨å®šæ—¶ä»»åŠ¡æ¯ 10 åˆ†é’Ÿè®¿é—®ä¸€æ¬¡å¥åº·æ£€æŸ¥ç«¯ç‚¹
- å‡çº§åˆ°ä»˜è´¹å¥—é¤

### 2. åç«¯å¤„ç†è¶…æ—¶
**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¢åŠ å‰ç«¯è¶…æ—¶æ—¶é—´
- ä¼˜åŒ–å›¾ç‰‡å¤§å°
- ä½¿ç”¨æ›´å¤§çš„å®ä¾‹ç±»å‹

### 3. å…è´¹é¢åº¦ç”¨å®Œ
**è§£å†³æ–¹æ¡ˆ**ï¼š
- Railway: æ¯æœˆ 5 ç¾å…ƒï¼Œ500 å°æ—¶å˜ä¸ºæ— é™
- Render: å‡çº§åˆ° Starter ($7/æœˆ)
- æˆ–éƒ¨ç½²å¤šä¸ªè´¦å·è½®æ¢ä½¿ç”¨

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### å…è´¹æ–¹æ¡ˆï¼ˆæ¨èèµ·æ­¥ï¼‰
- å‰ç«¯ï¼ˆVercelï¼‰: **$0/æœˆ**
- åç«¯ï¼ˆRailwayï¼‰: **$0/æœˆ**ï¼ˆ500 å°æ—¶å†…ï¼‰
- **æ€»è®¡ï¼š$0/æœˆ**

### ä»˜è´¹æ–¹æ¡ˆï¼ˆæµé‡å¤§æ—¶ï¼‰
- å‰ç«¯ï¼ˆVercel Proï¼‰: $20/æœˆ
- åç«¯ï¼ˆRailway Proï¼‰: $5/æœˆ
- **æ€»è®¡ï¼š$25/æœˆ**

---

## ğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬

```bash
# 1. éƒ¨ç½²åç«¯åˆ° Railway
railway login
railway init
railway up

# 2. è·å–åç«¯ URL å¹¶è®¾ç½®åˆ°å‰ç«¯
railway status  # å¤åˆ¶ URL

# 3. éƒ¨ç½²å‰ç«¯åˆ° Vercel
cd frontend-next
vercel --prod
# åœ¨ Vercel Dashboard è®¾ç½® BACKEND_URL ç¯å¢ƒå˜é‡
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- Railway æ–‡æ¡£ï¼šhttps://docs.railway.app
- Render æ–‡æ¡£ï¼šhttps://render.com/docs
- Vercel æ–‡æ¡£ï¼šhttps://vercel.com/docs

---

## âœ… æ¨èæµç¨‹

1. **å…ˆéƒ¨ç½²åç«¯åˆ° Railway**ï¼ˆæœ€ç®€å•ï¼Œå…è´¹ï¼‰
2. **æµ‹è¯•åç«¯ API** 
3. **éƒ¨ç½²å‰ç«¯åˆ° Vercel**
4. **é…ç½®ç¯å¢ƒå˜é‡è¿æ¥åç«¯**
5. **æµ‹è¯•å®Œæ•´åŠŸèƒ½**
6. **ç»‘å®šè‡ªå®šä¹‰åŸŸå**ï¼ˆå¯é€‰ï¼‰

å®Œæˆåä½ å°±æœ‰ä¸€ä¸ªå®Œå…¨å…è´¹ã€å¯æ‰©å±•çš„æ°´å°ç§»é™¤æœåŠ¡äº†ï¼ğŸ‰
